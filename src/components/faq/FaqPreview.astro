---
import FaqSection from './FaqSection.astro';
import Button from '../ui/Button.astro';
import Icon from '../ui/Icon.astro';

export interface Props {
  title?: string;
  questions: Array<{ question: string; answer: string }>;
  showMoreLink?: string;
  limit?: number;
  class?: string;
}

const {
  title = 'Часто спрашивают',
  questions,
  showMoreLink = '/faq/',
  limit = 3,
  class: className = '',
} = Astro.props;
---

<div class={`faq-preview ${className}`}>
  <h2>{title}</h2>
  <FaqSection questions={questions} limit={limit} />
  {
    showMoreLink && (
      <div class="faq-preview-footer">
        <Button href={showMoreLink} variant="button-link" size="large">
          <Icon name="bookOpen" size="sm" />
          Все вопросы и ответы →
        </Button>
      </div>
    )
  }
</div>

<style>
  .faq-preview {
    padding: 2rem 0;
  }

  .faq-preview-footer {
    text-align: center;
    margin-top: 2rem;
  }

  @media (max-width: 768px) {
    .faq-preview {
      padding: 1.5rem 0;
    }

    .faq-preview-footer {
      margin-top: 1.5rem;
    }
  }
</style>
