---
import FaqItem from './FaqItem.astro';

export interface Props {
  title?: string;
  questions: Array<{ question: string; answer: string }>;
  limit?: number;
  class?: string;
}

const { title, questions, limit, class: className = '' } = Astro.props;
const displayedQuestions = limit ? questions.slice(0, limit) : questions;
---

<section class={`faq-section ${className}`}>
  {title && <h3>{title}</h3>}
  <div class="faq-items">
    {displayedQuestions.map((item) => <FaqItem question={item.question} answer={item.answer} />)}
  </div>
</section>

<style>
  .faq-section {
    margin: 2rem 0;
  }

  .faq-items {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .faq-section:last-child {
    margin-bottom: 0;
  }
</style>
